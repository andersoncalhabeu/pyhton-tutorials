import numpy as np
import matplotlib.pyplot as plt

# Paste your CCW data here â€” or load from a file, if preferred.
ccw_data = np.array([
    -23.415639, -7.454267, 14.428332, 37.165485, 55.964923, 67.79045, 72.133498, 70.826046, 67.024523,
    63.869273, 63.347065, 65.774261, 70.034175, 74.347348, 77.105836, 77.404698, 75.141627, 70.748077,
    64.81076, 57.700856, 49.421356, 40.305353, 30.829067, 21.784742, 14.098706, 8.525838, 5.281313, 3.86175,
    3.339111, 2.692821, 1.265413, -0.9518, -3.383467, -5.295303, -6.31777, -6.776442, -7.697936, -10.665969,
    -17.427156, -29.306502, -46.758957, -69.069004, -94.370832, -119.833829, -142.131747, -158.116761,
    -165.595141, -164.085798, -155.28558, -142.954106, -132.08508, -127.537352, -132.409671, -146.780824,
    -167.310811, -187.970949, -201.864998, -203.392948, -190.184853, -164.049387, -130.479505, -96.956028,
    -70.546405, -55.727688, -53.14065, -59.62922, -69.537158, -76.702887, -76.401665, -66.689894, -48.78147,
    -26.392945, -4.436194, 12.509773, 21.412756, 21.432637, 13.944098, 2.020221, -10.427858, -19.613406,
    -22.681707, -18.267377, -6.794411, 9.542304, 27.287789, 42.523282, 51.885218, 53.474322, 47.447177,
    36.09602, 23.25425, 13.164016, 9.305441, 13.173984, 23.83137, 38.256439, 52.497742, 63.139732, 68.486208,
    69.128209, 67.634965, 67.447626, 71.406236, 80.642516, 94.076526, 108.817774, 121.230581, 128.273434,
    128.443358, 122.108239, 111.188267, 98.318066, 85.9908, 75.966019, 69.105844, 65.476011, 64.605792,
    65.62533, 67.293884, 67.990015, 65.784435, 58.898511, 46.337446, 28.597889, 8.026088, -11.428507,
    -25.245458, -29.759629
])

N = len(ccw_data)
# If you know your sampling frequency, set it here (samples per second)
fs = 1.0  # Change this to your real sampling rate

# FFT calculation
fft_result = np.fft.fft(ccw_data)
freqs = np.fft.fftfreq(N, d=1/fs)

# Only take the positive part (for real signals)
half = N // 2
frequencies = freqs[:half]
power = np.abs(fft_result[:half])**2

# Plot
plt.figure(figsize=(10, 6))
plt.plot(frequencies, power, marker='o')
plt.title('Power Spectrum (FFT)')
plt.xlabel('Frequency (Hz)')
plt.ylabel('Power')
plt.grid(True)
plt.show()
